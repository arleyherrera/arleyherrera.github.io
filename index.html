<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Celebrando 4 meses de amor y felicidad juntos">
    <title> Mi Amor</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Playfair+Display:wght@400;700&family=Roboto:wght@300;400;700&display=swap');

        :root {
            --primary-color: #ff6f91;
            --secondary-color: #ff4b4b;
            --text-color: #333;
            --background-start: #ff9a9e;
            --background-middle: #fad0c4;
            --background-end: #c2e9fb;
            --white: #ffffff;
            --shadow-color: rgba(0, 0, 0, 0.2);
            --transition-speed: 0.3s;
        }

        [data-theme="dark"] {
            --primary-color: #ff8fa3;
            --secondary-color: #ff6b6b;
            --text-color: #ffffff;
            --background-start: #2a2a2a;
            --background-middle: #3a3a3a;
            --background-end: #4a4a4a;
            --shadow-color: rgba(0, 0, 0, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Playfair Display', serif;
            background: linear-gradient(120deg, var(--background-start) 0%, var(--background-middle) 60%, var(--background-end) 100%);
            color: var(--text-color);
            overflow-x: hidden;
            scroll-behavior: smooth;
            transition: background-color var(--transition-speed), color var(--transition-speed);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }

        header {
            text-align: center;
            padding: 50px 0;
            opacity: 0;
            animation: fadeInDown 2s ease-in-out forwards;
        }

        h1, h2, h3 {
            font-family: 'Dancing Script', cursive;
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        h1 { font-size: clamp(2.5rem, 5vw, 4rem); }
        h2 { font-size: clamp(2rem, 4vw, 3rem); }
        h3 { font-size: clamp(1.5rem, 3vw, 2rem); }

        p {
            font-size: clamp(1rem, 2vw, 1.5rem);
            line-height: 1.6;
            margin-bottom: 30px;
            color: var(--text-color);
        }

        .heart-container {
            position: relative;
            display: inline-block;
            cursor: pointer;
            transition: transform var(--transition-speed);
        }

        .heart {
            font-size: clamp(3rem, 6vw, 5rem);
            color: var(--primary-color);
            animation: pulse 1.5s infinite;
        }

        .heart-container:hover {
            transform: scale(1.1);
        }

        .heart-container::after {
            content: "Click me ";
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%) scale(0);
            background: var(--white);
            color: var(--primary-color);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 1rem;
            box-shadow: 0 2px 10px var(--shadow-color);
            opacity: 0;
            transition: all var(--transition-speed);
            white-space: nowrap;
        }

        .heart-container:hover::after {
            transform: translateX(-50%) scale(1);
            opacity: 1;
        }

        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            padding: 20px;
            margin-bottom: 50px;
        }

        .gallery-item {
            position: relative;
            border-radius: 25px;
            overflow: hidden;
            aspect-ratio: 1;
            cursor: pointer;
            transition: transform var(--transition-speed);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform var(--transition-speed);
        }

        .gallery-item::after {
            content: "";
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.5), transparent);
            opacity: 0;
            transition: opacity var(--transition-speed);
        }

        .gallery-item:hover {
            transform: translateY(-5px);
        }

        .gallery-item:hover img {
            transform: scale(1.1);
        }

        .gallery-item:hover::after {
            opacity: 1;
        }

        .countdown {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            margin: 50px 0;
            box-shadow: 0 4px 15px var(--shadow-color);
        }

        .countdown-display {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            max-width: 600px;
            margin: 0 auto;
        }

        .countdown-item {
            background: var(--white);
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 4px 10px var(--shadow-color);
        }

        .countdown-number {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-color);
        }

        .countdown-label {
            font-size: 0.9rem;
            color: var(--text-color);
            text-transform: uppercase;
        }

        .moments {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 25px;
            padding: 40px;
            margin: 50px 0;
            box-shadow: 0 4px 15px var(--shadow-color);
            transform: translateX(-100%);
            animation: slideInRight 1s ease-in-out forwards;
        }

        .moments ul {
            list-style: none;
            padding: 0;
        }

        .moments li {
            margin: 20px 0;
            padding: 15px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 15px;
            box-shadow: 0 2px 8px var(--shadow-color);
            transform: translateX(-50px);
            opacity: 0;
            animation: slideInLeft 0.5s ease-in-out forwards;
            animation-delay: calc(var(--index) * 0.1s);
        }

        .music-player {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin: 50px 0;
            text-align: center;
        }

        .custom-audio {
            width: 100%;
            max-width: 500px;
            margin: 20px auto;
            background: var(--white);
            border-radius: 50px;
            padding: 20px;
            box-shadow: 0 4px 15px var(--shadow-color);
        }

        .audio-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
        }

        .audio-btn {
            background: var(--primary-color);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            color: var(--white);
            cursor: pointer;
            transition: transform var(--transition-speed);
        }

        .audio-btn:hover {
            transform: scale(1.1);
        }

        .progress-container {
            width: 100%;
            height: 5px;
            background: #ddd;
            border-radius: 5px;
            margin: 20px 0;
            cursor: pointer;
        }

        .progress-bar {
            height: 100%;
            background: var(--primary-color);
            border-radius: 5px;
            width: 0;
            transition: width 0.1s linear;
        }

        .modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        #modalVideo {
    width: auto;
    height: auto;
    max-width: 90vw;
    max-height: 80vh;
    border-radius: 15px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    background: #000;
}

        .modal-content {
            max-width: 90%;
            max-height: 90vh;
            border-radius: 20px;
            box-shadow: 0 4px 20px var(--shadow-color);
            animation: zoomIn 0.3s ease-out;
        }

        

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--primary-color);
            color: var(--white);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform var(--transition-speed);
        }

        .modal-close:hover {
            transform: rotate(90deg);
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--primary-color);
            color: var(--white);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            box-shadow: 0 4px 10px var(--shadow-color);
            transition: transform var(--transition-speed);
            z-index: 100;
        }

        .theme-toggle:hover {
            transform: rotate(180deg);
        }

        .message-form {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 25px;
            padding: 30px;
            margin: 50px 0;
            box-shadow: 0 4px 15px var(--shadow-color);
        }

        .message-input {
            width: 100%;
            min-height: 100px;
            padding: 15px;
            border: 2px solid var(--primary-color);
            border-radius: 15px;
            font-size: 1rem;
            margin-bottom: 20px;
            resize: vertical;
            transition: border-color var(--transition-speed);
        }

        .message-input:focus {
            outline: none;
            border-color: var(--secondary-color);
        }

        .submit-btn {
            background: var(--primary-color);
            color: var(--white);
            border: none;
            border-radius: 25px;
            padding: 12px 30px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: transform var(--transition-speed), background-color var(--transition-speed);
        }

        .submit-btn:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.15); }
            100% { transform: scale(1); }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInRight {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }

        @keyframes zoomIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .gallery {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 10px;
            }

            .countdown-display {
                grid-template-columns: repeat(2, 1fr);
            }

            .audio-controls {
                flex-direction: column;
            }

            .theme-toggle {
                top: 10px;
                right: 10px;
                width: 40px;
                height: 40px;
            }
            #modalVideo {
        width: 95vw;
        max-height: 70vh;
           }
        }
        .modal-content {
        max-width: 90%;
        max-height: 90vh;
        border-radius: 20px;
        box-shadow: 0 4px 20px var(--shadow-color);
        animation: zoomIn 0.3s ease-out;
        background: black; /* Fondo negro para el contenido del modal */
    }

    .modal-content video {
        max-width: 100%;
        max-height: 90vh;
        border-radius: 20px;
    }

    .modal.video-modal .modal-content {
        width: 80%; /* O el ancho que prefieras */
        aspect-ratio: 16/9; /* Mantiene la proporci贸n del video */
    }

    .gallery-item video {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 25px;
    cursor: pointer;
    transition: transform var(--transition-speed);
}

.gallery-item:hover video {
    transform: scale(1.1);
}

.hearts-bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: -1;
    }

    .floating-heart {
        position: absolute;
        color: var(--primary-color);
        opacity: 0.3;
        animation: floatHeart 15s linear infinite;
    }

    @keyframes floatHeart {
        0% {
            transform: translateY(100vh) scale(0.5);
            opacity: 0.3;
        }
        100% {
            transform: translateY(-100px) scale(1);
            opacity: 0;
        }
    }

    /* Tarjeta de memoria giratoria */
    .memory-card {
        perspective: 1000px;
        width: 300px;
        height: 200px;
        margin: 20px auto;
        cursor: pointer;
    }

    .memory-card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        text-align: center;
        transition: transform 0.8s;
        transform-style: preserve-3d;
    }

    .memory-card:hover .memory-card-inner {
        transform: rotateY(180deg);
    }

    .memory-card-front, .memory-card-back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        border-radius: 15px;
        padding: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
    }

    .memory-card-front {
        background: var(--primary-color);
        color: white;
    }

    .memory-card-back {
        background: var(--secondary-color);
        color: white;
        transform: rotateY(180deg);
    }

    /* Efecto de lluvia de confeti */
    .confetti {
        position: fixed;
        top: -10px;
        width: 10px;
        height: 10px;
        opacity: 0;
        pointer-events: none;
    }

    @keyframes confettiFall {
        0% {
            opacity: 1;
            transform: translateY(0) rotateZ(0deg);
        }
        100% {
            opacity: 0;
            transform: translateY(100vh) rotateZ(360deg);
        }
    }

    /* Bot贸n de carta de amor */
    .love-letter-btn {
        background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 1.1rem;
        margin: 20px auto;
        display: block;
        transition: transform 0.3s, box-shadow 0.3s;
    }

    .love-letter-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(255, 111, 145, 0.4);
    }

   

    </style>
</head>

<body>
    <button class="theme-toggle" onclick="toggleTheme()" aria-label="Cambiar tema">
        <i class="fas fa-moon"></i>
    </button>

    <div class="container">
        <header>
            <h1>Proximamente ....., Mi Amor</h1>
            <p>Cuatro meses contigo y sigo encontrando nuevas razones para amarte. Gracias por cada momento. Eres la luz de mi vida.</p>
            <div class="heart-container" onclick="showSurpriseMessage()">
                <div class="heart">わ</div>
            </div>
        </header>

        <section class="music-player">
            <h2>Nuestra Canci贸n</h2>
            <div class="custom-audio">
                <div class="audio-controls">
                    <button class="audio-btn" id="playBtn" aria-label="Reproducir">
                        <i class="fas fa-play"></i>
                    </button>
                    <div class="progress-container
                    <div class="progress-bar" id="progressBar"></div>
                    </div>
                    <span id="currentTime">0:00</span> / <span id="duration">0:00</span>
                </div>
                <audio id="background-music" src="tequiero.mp3" preload="metadata"></audio>
            </div>
        </section>

        <section class="gallery" id="photoGallery">
            <div class="gallery-item">
                <img src="tequiero1.jpeg" alt="Nuestra primera cita" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="tequiero3.jpeg" alt="Nuestro primer viaje juntos" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="tequiero4.jpeg" alt="Nuestro d铆a especial" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="tequiero5.jpeg" alt="Nuestro lugar favorito" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="tequiero6.jpeg" alt="Nuestra aventura juntos" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="tequiero7.jpeg" alt="Nuestra aventura juntos" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="tequiero8.jpeg" alt="Nuestra aventura juntos" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="tequiero9.jpeg" alt="Nuestra aventura juntos" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="tequiero10.jpeg" alt="Nuestra aventura juntos" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="tequiero11.jpeg" alt="Nuestra aventura juntos" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="tequiero12.jpeg" alt="Nuestra aventura juntos" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="tequiero13.jpeg" alt="Nuestra aventura juntos" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="tequiero14.jpeg" alt="Nuestra aventura juntos" loading="lazy">
            </div>
            <div class="gallery-item">
                <img src="tequiero15.jpeg" alt="Nuestra aventura juntos" loading="lazy">
            </div>
            
            <div class="gallery-item video-item">
                <video class="gallery-video" preload="metadata">
                    <source src="mipreciosa.mp4" type="video/mp4">
                    Tu navegador no soporta la etiqueta de video.
                </video>
            </div>
            <div class="gallery-item video-item">
                <video class="gallery-video" preload="metadata">
                    <source src="mipreciosa1.mp4" type="video/mp4">
                    Tu navegador no soporta la etiqueta de video.
                </video>
            </div>
            <div class="gallery-item video-item">
                <video class="gallery-video" preload="metadata">
                    <source src="mipreciosa2.mp4" type="video/mp4">
                    Tu navegador no soporta la etiqueta de video.
                </video>
            </div>
            <div class="gallery-item video-item">
                <video class="gallery-video" preload="metadata">
                    <source src="mipreciosa3.mp4" type="video/mp4">
                    Tu navegador no soporta la etiqueta de video.
                </video>
            </div>
            <div class="gallery-item video-item">
                <video class="gallery-video" preload="metadata">
                    <source src="mipreciosa4.mp4" type="video/mp4">
                    Tu navegador no soporta la etiqueta de video.
                </video>
            </div>
            <div class="gallery-item video-item">
                <video class="gallery-video" preload="metadata">
                    <source src="mipreciosa5.mp4" type="video/mp4">
                    Tu navegador no soporta la etiqueta de video.
                </video>
            </div>
            <div class="gallery-item video-item">
                <video class="gallery-video" preload="metadata">
                    <source src="mipreciosa6.mp4" type="video/mp4">
                    Tu navegador no soporta la etiqueta de video.
                </video>
            </div>
            <div class="gallery-item video-item">
                <video class="gallery-video" preload="metadata">
                    <source src="mipreciosa7.mp4" type="video/mp4">
                    Tu navegador no soporta la etiqueta de video.
                </video>
            </div>
            <div class="gallery-item video-item">
                <video class="gallery-video" preload="metadata">
                    <source src="mipreciosa8.mp4" type="video/mp4">
                    Tu navegador no soporta la etiqueta de video.
                </video>
            </div>
            <div class="gallery-item video-item">
                <video class="gallery-video" preload="metadata">
                    <source src="mipreciosa9.mp4" type="video/mp4">
                    Tu navegador no soporta la etiqueta de video.
                </video>
            </div>
            <div class="gallery-item video-item">
                <video class="gallery-video" preload="metadata">
                    <source src="mipreciosa10.mp4" type="video/mp4">
                    Tu navegador no soporta la etiqueta de video.
                </video>
            </div>
            <div class="gallery-item video-item">
                <video class="gallery-video" preload="metadata">
                    <source src="mipreciosa11.mp4" type="video/mp4">
                    Tu navegador no soporta la etiqueta de video.
                </video>
            </div>
            <div class="gallery-item video-item">
                <video class="gallery-video" preload="metadata">
                    <source src="mipreciosa12.mp4" type="video/mp4">
                    Tu navegador no soporta la etiqueta de video.
                </video>
            </div>
        </section>

        <section class="countdown">
            <h2>Cuenta regresiva para nuestro pr贸ximo mes juntos</h2>
            <div class="countdown-display" id="countdown">
                <div class="countdown-item">
                    <div class="countdown-number" id="days">00</div>
                    <div class="countdown-label">D铆as</div>
                </div>
                <div class="countdown-item">
                    <div class="countdown-number" id="hours">00</div>
                    <div class="countdown-label">Horas</div>
                </div>
                <div class="countdown-item">
                    <div class="countdown-number" id="minutes">00</div>
                    <div class="countdown-label">Minutos</div>
                </div>
                <div class="countdown-item">
                    <div class="countdown-number" id="seconds">00</div>
                    <div class="countdown-label">Segundos</div>
                </div>
            </div>
        </section>

        <section class="moments">
            <h2>Nuestros Momentos Especiales</h2>
            <ul id="momentsList">
                <li style="--index: 0">Nuestra primera conversaci贸n</li>
                <li style="--index: 1">Nuestra primera cita</li>
                <li style="--index: 2">Nuestro primer beso</li>
                <li style="--index: 3">Nuestra primera pel铆cula en el cine</li>
                <li style="--index: 4">Nuestro primer "Te quiero"</li>
                <li style="--index: 5">Nuestro primer "Te amo"</li>
                <li style="--index: 6">Nuestra primera aventura juntos</li>
            </ul>
        </section>

        <section class="message-form">
            <h3>D茅jame un mensaje secreto:</h3>
            <textarea 
                id="secretMessage" 
                class="message-input" 
                placeholder="Tu mensaje aqu铆..."
                maxlength="500"
            ></textarea>
            <button class="submit-btn" onclick="showSecretMessage()">
                <i class="fas fa-heart"></i> Enviar
            </button>
            <p id="displaySecretMessage" class="message-display"></p>
        </section>
    </div>

    <div class="hearts-bg" id="heartsBg"></div>
    <section class="memory-card">
        <div class="memory-card-inner">
            <div class="memory-card-front">
                <h3>Un recuerdo especial</h3>
                <p>Pasa el mouse por encima わ</p>
            </div>
            <div class="memory-card-back">
                <p>Cada momento contigo es un tesoro que guardo en mi coraz贸n</p>
            </div>
        </div>
    </section>
    
    <button class="love-letter-btn" onclick="showLoveLetter()">
        <i class="fas fa-envelope-heart"></i> Abrir carta de amor
    </button>

    <div id="imageModal" class="modal">
        <div class="modal-close" onclick="closeModal()">
            <i class="fas fa-times"></i>
        </div>
        <img class="modal-content" id="modalImage" alt="Imagen ampliada">
        <video class="modal-content" id="modalVideo" controls style="display: none;">
            <source src="" type="video/mp4">
            Tu navegador no soporta la etiqueta de video.
        </video>
    </div>

    <script>
        // Gesti贸n del reproductor de audio personalizado
        const audio = document.getElementById('background-music');
        const playBtn = document.getElementById('playBtn');
        const progressBar = document.getElementById('progressBar');
        const progressContainer = document.querySelector('.progress-container');
        const currentTimeSpan = document.getElementById('currentTime');
        const durationSpan = document.getElementById('duration');

        function togglePlay() {
            if (audio.paused) {
                audio.play();
                playBtn.innerHTML = '<i class="fas fa-pause"></i>';
            } else {
                audio.pause();
                playBtn.innerHTML = '<i class="fas fa-play"></i>';
            }
        }

        function updateProgress(e) {
            const { duration, currentTime } = e.srcElement;
            const progressPercent = (currentTime / duration) * 100;
            progressBar.style.width = `${progressPercent}%`;
            
            currentTimeSpan.textContent = formatTime(currentTime);
            durationSpan.textContent = formatTime(duration);
        }

        function setProgress(e) {
            const width = this.clientWidth;
            const clickX = e.offsetX;
            const duration = audio.duration;
            audio.currentTime = (clickX / width) * duration;
        }

        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = Math.floor(seconds % 60);
            return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;
        }

        playBtn.addEventListener('click', togglePlay);
        audio.addEventListener('timeupdate', updateProgress);
        progressContainer.addEventListener('click', setProgress);
        audio.addEventListener('ended', () => {
            playBtn.innerHTML = '<i class="fas fa-play"></i>';
            progressBar.style.width = '0%';
        });

        // Gesti贸n de la cuenta regresiva
        function updateCountdown() {
            const nextMonth = new Date();
            nextMonth.setMonth(nextMonth.getMonth() + 1);
            nextMonth.setDate(1);
            nextMonth.setHours(0, 0, 0, 0);
            
            const now = new Date().getTime();
            const distance = nextMonth - now;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('days').textContent = days.toString().padStart(2, '0');
            document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
            document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
            document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
        }

        setInterval(updateCountdown, 1000);
        updateCountdown();

        // Gesti贸n de la galer铆a y modal
        const gallery = document.getElementById('photoGallery');
        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImage');
        const modalVideo = document.getElementById('modalVideo');

        gallery.addEventListener('click', (e) => {
            const clickedItem = e.target.closest('.gallery-item');
            if (!clickedItem) return;

            if (clickedItem.classList.contains('video-item')) {
                const video = clickedItem.querySelector('video');
                openVideoModal(video.querySelector('source').src);
            } else {
                const img = clickedItem.querySelector('img');
                if (img) openImageModal(img.src);
            }
        });
        
        function openImageModal(imgSrc) {
    modal.style.display = 'flex';
    modal.classList.remove('video-modal'); // Removemos la clase de video si existe
    modalImg.style.display = 'block';
    modalVideo.style.display = 'none';
    modalImg.src = imgSrc;
    modalImg.style.maxWidth = '90%';
    modalImg.style.maxHeight = '90vh';
    modalImg.style.objectFit = 'contain';
    document.body.style.overflow = 'hidden';
     }

   function openVideoModal(videoSrc) {
    modal.style.display = 'flex';
    modal.classList.add('video-modal');
    modalVideo.style.display = 'block';
    modalImg.style.display = 'none';
    modalVideo.querySelector('source').src = videoSrc;
    modalVideo.load();
    document.body.style.overflow = 'hidden';
  }

  function closeModal() {
    modal.style.display = 'none';
    modal.classList.remove('video-modal');
    document.body.style.overflow = 'auto';
    if (modalVideo) {
        modalVideo.pause();
    }
  } 

        // Cerrar modal con la tecla Escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeModal();
        });

        // Gesti贸n del tema oscuro/claro
        function toggleTheme() {
            const body = document.body;
            const themeToggle = document.querySelector('.theme-toggle i');
            
            if (body.getAttribute('data-theme') === 'dark') {
                body.removeAttribute('data-theme');
                themeToggle.className = 'fas fa-moon';
                localStorage.setItem('theme', 'light');
            } else {
                body.setAttribute('data-theme', 'dark');
                themeToggle.className = 'fas fa-sun';
                localStorage.setItem('theme', 'dark');
            }
        }

        // Recuperar tema guardado
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.body.setAttribute('data-theme', 'dark');
            document.querySelector('.theme-toggle i').className = 'fas fa-sun';
        }

        // Mensaje secreto
        function showSecretMessage() {
            const messageInput = document.getElementById('secretMessage');
            const displayMessage = document.getElementById('displaySecretMessage');
            
            if (messageInput.value.trim() === '') {
                displayMessage.innerHTML = '<i class="fas fa-exclamation-circle"></i> Por favor, escribe un mensaje';
                displayMessage.style.color = '#ff4b4b';
                return;
            }

            displayMessage.innerHTML = `<i class="fas fa-heart"></i> ${messageInput.value}`;
            displayMessage.style.color = 'var(--primary-color)';
            messageInput.value = '';

            // Animaci贸n simple
            displayMessage.style.animation = 'fadeInDown 0.5s ease-out';
        }

        // Mensaje sorpresa
        function showSurpriseMessage() {
            const messages = [
                "隆Eres el mejor regalo que la vida me ha dado! ",
                "Cada d铆a te amo m谩s ",
                "Contigo todo es mejor ",
                "Eres mi felicidad ",
                "Mi coraz贸n late por ti "
            ];
            
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 20%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: rgba(255, 255, 255, 0.9);
                padding: 20px 40px;
                border-radius: 25px;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
                z-index: 1000;
                animation: fadeInDown 0.5s ease-out;
                font-size: 1.2rem;
                color: var(--primary-color);
            `;
            
            toast.textContent = randomMessage;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.animation = 'fadeOut 0.5s ease-out';
                setTimeout(() => toast.remove(), 500);
            }, 3000);
        }

        function createFloatingHearts() {
        const heartsBg = document.getElementById('heartsBg');
        const hearts = ['わ', '', '', '', ''];
        
        setInterval(() => {
            const heart = document.createElement('span');
            heart.className = 'floating-heart';
            heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.fontSize = (Math.random() * 20 + 10) + 'px';
            heart.style.animationDuration = (Math.random() * 5 + 10) + 's';
            
            heartsBg.appendChild(heart);
            
            setTimeout(() => heart.remove(), 15000);
        }, 3000);
    }

    // Efecto de confeti
    function createConfetti() {
        const colors = ['#ff6f91', '#ff4b4b', '#ffd700', '#ff9a9e', '#c2e9fb'];
        
        for (let i = 0; i < 50; i++) {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            confetti.style.left = Math.random() * 100 + 'vw';
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.animation = `confettiFall ${Math.random() * 3 + 2}s linear forwards`;
            
            document.body.appendChild(confetti);
            
            setTimeout(() => confetti.remove(), 5000);
        }
    }

    // Mostrar carta de amor
    function showLoveLetter() {
        const letterContent = `
            <div style="text-align: center; padding: 20px;">
                <h3 style="color: var(--primary-color);">Mi amor...</h3>
                <p style="margin: 20px 0;">
                    Cada d铆a a tu lado es una nueva aventura llena de amor y felicidad.
                    Gracias por ser exactamente quien eres y por hacer mi vida m谩s hermosa.
                </p>
                <p style="margin: 20px 0;">
                    Te amo m谩s que ayer y menos que ma帽ana わ
                </p>
            </div>
        `;
        
        const modal = document.createElement('div');
        modal.style.cssText = `
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            max-width: 80%;
            animation: scaleIn 0.3s forwards;
        `;
        
        modal.innerHTML = letterContent;
        document.body.appendChild(modal);
        
        createConfetti();
        
        setTimeout(() => {
            modal.style.animation = 'scaleOut 0.3s forwards';
            setTimeout(() => modal.remove(), 300);
        }, 5000);
    }

    // Iniciar efectos al cargar la p谩gina
    window.addEventListener('load', () => {
        createFloatingHearts();
    });

    // Agregar nueva animaci贸n para la carta
    const styleSheet = document.styleSheets[0];
    styleSheet.insertRule(`
        @keyframes scaleIn {
            from { transform: translate(-50%, -50%) scale(0.9); opacity: 0; }
            to { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }
    `, styleSheet.cssRules.length);
    
    styleSheet.insertRule(`
        @keyframes scaleOut {
            from { transform: translate(-50%, -50%) scale(1); opacity: 1; }
            to { transform: translate(-50%, -50%) scale(0.9); opacity: 0; }
        }
    `, styleSheet.cssRules.length);
    </script>
</body>
</html>